{"ast":null,"code":"/*\n * @Author: WangQunQun\n * @Date: 2020-12-13 12:06:45\n * @LastEditTime: 2020-12-13 15:01:01\n * @LastEditors: WangQunQun\n * @Description: 该文件的作用是：\n * @FilePath: /my-app/src/utils/EventEmitter.js\n */\nclass EventEmitter {\n  constructor() {\n    this.enentLoop = {};\n  }\n\n  on(name, callback) {\n    this.enentLoop[name] ? this.enentLoop[name].push(callback) : this.enentLoop[name] = [callback];\n  }\n\n  emit(name, ...args) {\n    this.enentLoop[name] && this.enentLoop[name].forEach(cb => cb(...args));\n  }\n\n  off(name, callback) {\n    // this.enentLoop[name] && delete this.enentLoop[name]\n    this.enentLoop[name] && this.enentLoop[name].filter(cb => cb !== callback);\n  }\n\n  once(name, callback) {\n    if (this.enentLoop[name]) {\n      this.on(name, (...args) => {\n        callback(...args);\n        this.off(name);\n      });\n    }\n  }\n\n}\n\nconst event = new EventEmitter();\nexport { event };","map":{"version":3,"sources":["/Users/loveyou/Documents/frontend/blog/FE-blogs/React/src/utils/EventEmitter.js"],"names":["EventEmitter","constructor","enentLoop","on","name","callback","push","emit","args","forEach","cb","off","filter","once","event"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAMA,YAAN,CAAmB;AACjBC,EAAAA,WAAW,GAAG;AACZ,SAAKC,SAAL,GAAiB,EAAjB;AACD;;AACDC,EAAAA,EAAE,CAACC,IAAD,EAAOC,QAAP,EAAiB;AACjB,SAAKH,SAAL,CAAeE,IAAf,IACI,KAAKF,SAAL,CAAeE,IAAf,EAAqBE,IAArB,CAA0BD,QAA1B,CADJ,GAEK,KAAKH,SAAL,CAAeE,IAAf,IAAuB,CAACC,QAAD,CAF5B;AAGD;;AACDE,EAAAA,IAAI,CAACH,IAAD,EAAO,GAAGI,IAAV,EAAgB;AAClB,SAAKN,SAAL,CAAeE,IAAf,KAAwB,KAAKF,SAAL,CAAeE,IAAf,EAAqBK,OAArB,CAA8BC,EAAD,IAAQA,EAAE,CAAC,GAAGF,IAAJ,CAAvC,CAAxB;AACD;;AACDG,EAAAA,GAAG,CAACP,IAAD,EAAOC,QAAP,EAAiB;AAClB;AACA,SAAKH,SAAL,CAAeE,IAAf,KAAwB,KAAKF,SAAL,CAAeE,IAAf,EAAqBQ,MAArB,CAA6BF,EAAD,IAAQA,EAAE,KAAKL,QAA3C,CAAxB;AACD;;AACDQ,EAAAA,IAAI,CAACT,IAAD,EAAOC,QAAP,EAAiB;AACnB,QAAI,KAAKH,SAAL,CAAeE,IAAf,CAAJ,EAA0B;AACxB,WAAKD,EAAL,CAAQC,IAAR,EAAc,CAAC,GAAGI,IAAJ,KAAa;AACzBH,QAAAA,QAAQ,CAAC,GAAGG,IAAJ,CAAR;AACA,aAAKG,GAAL,CAASP,IAAT;AACD,OAHD;AAID;AACF;;AAvBgB;;AAyBnB,MAAMU,KAAK,GAAG,IAAId,YAAJ,EAAd;AACA,SAASc,KAAT","sourcesContent":["/*\n * @Author: WangQunQun\n * @Date: 2020-12-13 12:06:45\n * @LastEditTime: 2020-12-13 15:01:01\n * @LastEditors: WangQunQun\n * @Description: 该文件的作用是：\n * @FilePath: /my-app/src/utils/EventEmitter.js\n */\nclass EventEmitter {\n  constructor() {\n    this.enentLoop = {}\n  }\n  on(name, callback) {\n    this.enentLoop[name]\n      ? this.enentLoop[name].push(callback)\n      : (this.enentLoop[name] = [callback])\n  }\n  emit(name, ...args) {\n    this.enentLoop[name] && this.enentLoop[name].forEach((cb) => cb(...args))\n  }\n  off(name, callback) {\n    // this.enentLoop[name] && delete this.enentLoop[name]\n    this.enentLoop[name] && this.enentLoop[name].filter((cb) => cb !== callback)\n  }\n  once(name, callback) {\n    if (this.enentLoop[name]) {\n      this.on(name, (...args) => {\n        callback(...args)\n        this.off(name)\n      })\n    }\n  }\n}\nconst event = new EventEmitter()\nexport { event }\n"]},"metadata":{},"sourceType":"module"}